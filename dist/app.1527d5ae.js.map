{"version":3,"sources":["js/fetchSheetsLength.js","js/scrollAlarm.js","js/app.js"],"names":["getSheetsLength","callback","document","querySelector","style","display","fetch","then","res","json","scrollAlarm","e","scrollHeight","scrollTop","clientHeight","visibility","myData","posts","postPerpage","currentPage","results","currentDay","prev","next","init","div","createElement","setAttribute","wrapper","appendChild","button","type","textContent","addEventListener","loadJSON","game","classList","add","insertBefore","sheetLength","urls","sheetNum","jsonURL","sheetID","Promise","all","map","url","data","tempArr","feed","title","$t","entry","forEach","item","holder","key","substring","en","ko","result","loadPage","page","innerHTML","parseInt","remove","loadNav","loadNumbers","myWords","shuffle","word","box","innerText","backgroundColor","loadTooltips","event","querySelectorAll","tooltips","tooltipOutput","top","clientY","left","clientX","target","getAttribute","numbers","i","span","console","log","length","getElementById","width","body","arr","n","j","Math","floor","random","tmp","window","alert"],"mappings":"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","file":"app.1527d5ae.js","sourceRoot":"..","sourcesContent":["function getSheetsLength(callback) {\r\n    document.querySelector('.loader').style.display = 'block';\r\n    let appUrl = 'https://script.google.com/macros/s/AKfycbzyqLGZTdZSFlGtghA2wQRpPb8yMs88uWBB92iYnAga_OhSJ9c/exec';\r\n\r\n    fetch(appUrl)\r\n        .then(res => res.json())\r\n        .then(callback);\r\n}\r\n\r\nexport default getSheetsLength;\r\n\r\n","function scrollAlarm(e) {\r\n    var res =  this.scrollHeight - this.scrollTop === this.clientHeight;\r\n    if (!this.scrollTop) {\r\n        document.querySelector('.scroll-top').style.visibility = 'visible';\r\n    } else if (res) {\r\n        document.querySelector('.scroll-bottom').style.visibility = 'visible';\r\n    } else {\r\n        document.querySelector('.scroll-top').style.visibility = 'hidden';\r\n        document.querySelector('.scroll-bottom').style.visibility = 'hidden';\r\n    }\r\n}\r\n\r\nexport default scrollAlarm;\r\n","import '../css/loader.css';\r\nimport '../css/style.css';\r\nimport '../css/navbar.css';\r\n// import jsonData from './json';\r\nimport getSheetsLength from \"./fetchSheetsLength\";\r\nimport scrollAlarm from \"./scrollAlarm\";\r\n\r\nlet myData = [];\r\n\r\nconst posts = {\r\n    postPerpage: 10,\r\n    currentPage: 0,\r\n    results: null,\r\n    currentDay: 0\r\n};\r\n// let firstLoad = true;\r\nconst prev = document.querySelector('.previous');\r\nconst next = document.querySelector('.next');\r\n\r\n\r\nwindow.addEventListener('load', init);\r\nwrapper.addEventListener('scroll', scrollAlarm);\r\n\r\n\r\nfunction init(e) {\r\n    // Grid wrapper displaying message\r\n    let div = document.createElement('div');\r\n    div.setAttribute('class', 'message wrapper');\r\n    // div.innerText = 'Press start button';\r\n    wrapper.appendChild(div);\r\n\r\n    // Start button\r\n    let button = document.createElement('button');\r\n    button.type = button;\r\n    button.setAttribute('class', 'start');\r\n    button.textContent = \"Start Study\";\r\n    button.addEventListener('click', () => getSheetsLength(loadJSON));\r\n    wrapper.appendChild(button);\r\n\r\n\r\n    // Game element\r\n    let game = document.createElement('div');\r\n    game.classList.add('game');\r\n    wrapper.insertBefore(game, document.querySelector('.index'));\r\n}\r\n\r\nfunction loadJSON(sheetLength) {\r\n    let urls = [];\r\n    var sheetID = '1mgbYLvqlZ9FIRFbiIhg6C4SQZtHihCOME7f5m49Ze84';\r\n\r\n    for (let sheetNum = 1; sheetNum <= sheetLength; sheetNum++) {\r\n        let jsonURL = `https://spreadsheets.google.com/feeds/list/${sheetID}/${sheetNum}/public/values?alt=json`;\r\n        urls = [...urls, jsonURL];\r\n    }\r\n\r\n    Promise.all(urls.map(url => {\r\n        return fetch(url)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                let tempArr = [];\r\n                let sheetName = data.feed.title.$t;\r\n                data.feed.entry.forEach(item => {\r\n                    let holder = {};\r\n                    for (let key in item) {\r\n                        if (key.substring(4) === 'english') {\r\n                            holder.en = item[key].$t;\r\n                        } else if (key.substring(4) === 'korean') {\r\n                            holder.ko = item[key].$t;\r\n                        }\r\n                    }\r\n                    tempArr = [...tempArr, holder];\r\n                });\r\n                return tempArr;\r\n            })\r\n    }))\r\n        .then(result => {\r\n            posts.results = result;\r\n            loadPage(0);\r\n            document.querySelector('.loader').style.display = 'none';\r\n        });\r\n}\r\n\r\nfunction loadPage(page) {\r\n    document.querySelector('.game').innerHTML = '';\r\n    posts.currentPage = page;\r\n    document.querySelector('.numday').innerHTML = parseInt(posts.currentPage) + 1;\r\n    // if (firstLoad) {\r\n    //     document.querySelector('.numday').innerHTML = parseInt(posts.currentPage) + 1;\r\n    //     firstLoad = false;\r\n    // } else {\r\n    //     document.querySelector('.numday').innerHTML = parseInt(posts.currentPage);\r\n    // }\r\n    document.querySelector('.index').classList.remove('hidden');\r\n    document.querySelector('.start').style.display = 'none';\r\n    loadNav();\r\n    loadNumbers();\r\n    let myWords = shuffle(posts.results[page]);\r\n    const game = document.querySelector('.game');\r\n    myWords.forEach(word => {\r\n        let box = document.createElement('div');\r\n        box.classList.add('box');\r\n        box.classList.add('tooltip-message');\r\n        box.setAttribute('data-tooltip-message', word.en);\r\n        box.innerText = word.en;\r\n        box.addEventListener('mouseenter', function (e) {\r\n            box.style.backgroundColor = \"#4CAF50\";\r\n            box.innerText = word.ko;\r\n            loadTooltips(e);\r\n        });\r\n        box.addEventListener('mouseleave', function (e) {\r\n            box.style.backgroundColor = '#3b5998';\r\n            box.innerText = word.en;\r\n\r\n            const tooltipOutput = document.querySelector('.tooltip-output');\r\n            tooltipOutput.style.display = 'none';\r\n        });\r\n        game.appendChild(box);\r\n    });\r\n    function add(a) {\r\n        return a + 10;\r\n    }\r\n\r\n\r\n    function loadTooltips(event) {\r\n        const tooltips = document.querySelectorAll('.tooltip-message');\r\n        const tooltipOutput = document.querySelector('.tooltip-output');\r\n        let myInterval;\r\n        // clearInterval(myInterval);\r\n        tooltipOutput.style.display = 'block';\r\n        tooltipOutput.style.top = event.clientY + 5 + \"px\";\r\n        tooltipOutput.style.left = event.clientX + 5 + \"px\";\r\n        tooltipOutput.innerHTML = event.target.getAttribute(\"data-tooltip-message\");\r\n    }\r\n}\r\n\r\nfunction loadNumbers() {\r\n    const numbers = document.querySelector('.numbers');\r\n    numbers.innerHTML = '';\r\n    posts.results.forEach((item, i) => {\r\n        const span = document.createElement('span');\r\n        span.classList.add('number');\r\n        span.textContent = i + 1;\r\n        span.addEventListener('click', function (e) {\r\n            numbers.innerHTML = '';\r\n            document.querySelector('.game').innerHTML = '';\r\n            loadPage(parseInt(this.textContent) - 1);\r\n            posts.currentDay = this.textContent;\r\n        });\r\n        console.log(i + 1, 'i index');\r\n        console.log(posts.currentDay, 'current day');\r\n\r\n        if (i + 1 == posts.currentPage + 1) {\r\n            span.classList.add('active');\r\n        }\r\n        numbers.appendChild(span);\r\n        // if ((parseInt(this.textContent) - 1) == posts.currentPage) {\r\n        //     this.classList.add('isActive');\r\n        // }\r\n    });\r\n}\r\n\r\nfunction loadNav() {\r\n    document.querySelector('.navbar').classList.remove('hidden');\r\n     document.querySelector('.day').innerHTML = `<span class=\"day\">DAY-${parseInt(posts.currentPage) + 1}</spanclass> in ${posts.results.length}`;\r\n     document.querySelector('.openbtn').addEventListener('click', function (e) {\r\n            document.getElementById('mySidenav').style.width = '300px';\r\n     });\r\n\r\n\r\n    document.querySelector('.closebtn').addEventListener('click', function (e) {\r\n            document.getElementById('mySidenav').style.width = '0';\r\n     }, false);\r\n\r\n     document.body.addEventListener('mouseleave', function (e) {\r\n         document.getElementById('mySidenav').style.width = '0';\r\n     })\r\n\r\n    document.querySelector('.shuffleWords').addEventListener('click', function (e) {\r\n        document.querySelector('.game').innerHTML = '';\r\n        loadPage(posts.currentPage);\r\n        document.getElementById('mySidenav').style.width = '0';\r\n    });\r\n}\r\n\r\nprev.addEventListener('click', function (e) {\r\n    if (posts.currentPage - 1 <= 0) {\r\n        alert('Hey, No Negative Pages!');\r\n        return;\r\n    } else {\r\n        document.querySelector('.game').innerHTML = '';\r\n        posts.currentPage--;\r\n        loadPage(posts.currentPage);\r\n    }\r\n});\r\n\r\nnext.addEventListener('click', function (e) {\r\n    if (posts.currentPage + 1 >= posts.results.length) {\r\n        alert('No More Pages!');\r\n        return;\r\n    } else {\r\n        document.querySelector('.game').innerHTML = '';\r\n        posts.currentPage++;\r\n        loadPage(posts.currentPage);\r\n        console.log(posts.currentPage);\r\n    }\r\n});\r\n\r\n\r\nfunction shuffle (arr) {\r\n    var n = arr.length;\r\n\r\n    for(var i = n - 1; i > 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        var tmp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = tmp;\r\n    }\r\n    return arr;\r\n}\r\n\r\n\r\n\r\n// let myWords = [\r\n//     { en: \"measure\", ko: \"법안\" },\r\n//     { en: \"disease\", ko: \"질병\" },\r\n//     { en: \"vehicle\", ko: \"차량\" },\r\n//     { en: \"warn\", ko: \"경고하다\" },\r\n//     { en: \"persuade\", ko: \"설득하다\" },\r\n//     { en: \"freezing\", ko: \"동결\" },\r\n//     { en: \"wipe\", ko: \"닦다\" },\r\n//     { en: \"severe\", ko: \"심한\" },\r\n//     { en: \"muscle\", ko: \"근육\" },\r\n//     { en: \"crop\", ko: \"곡물\" },\r\n//     { en: \"amazing\", ko: \"놀라운\" },\r\n//     { en: \"agriculture\", ko: \"농업\" },\r\n//     { en: \"long\", ko: \"갈망하다\" },\r\n//     { en: \"leak\", ko: \"새다\" },\r\n//     { en: \"pulse\", ko: \"맥박\" },\r\n//     { en: \"military\", ko: \"군\" },\r\n//     { en: \"approach\", ko: \"접근\" },\r\n//     { en: \"pity\", ko: \"불쌍한\" },\r\n//     { en: \"aware\", ko: \"알고 있는\" },\r\n//     { en: \"guilty\", ko: \"죄 있는\" },\r\n//     { en: \"innocent\", ko: \"순진한\" },\r\n//     { en: \"pot\", ko: \"냄비\" },\r\n//     { en: \"port\", ko: \"항구\" },\r\n//     { en: \"porter\", ko: \"짐꾼\" },\r\n//     { en: \"import\", ko: \"수입하다\" },\r\n//     { en: \"transport\", ko: \"운송하다\" },\r\n//     { en: \"support\", ko: \"지원하다\" },\r\n//     { en: \"portable\", ko: \"휴대 가능한\" },\r\n//     { en: \"potable\", ko: \"마실 수 있는\" },\r\n//     { en: \"leap\", ko: \"뛰다\" },\r\n//     { en: \"reap\", ko: \"수확하다\" },\r\n// ]\r\n"]}